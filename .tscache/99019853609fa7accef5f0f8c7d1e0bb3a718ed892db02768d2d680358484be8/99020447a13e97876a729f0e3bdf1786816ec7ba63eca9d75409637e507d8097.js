'use strict';
var path = require('path');
var extend = require('deep-extend');
var ejs = require('ejs');
module.exports = function (from, to, context, tplSettings, options) {
    context = context || {};
    this.copy(from, to, extend(options || {}, {
        process: function (contents, filename) {
            return ejs.render(contents.toString(), context, 
            // Setting filename by default allow including partials.
            extend({ filename: filename }, tplSettings || {}));
        }
    }));
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxpZmVkdVxcQXBwRGF0YVxcUm9hbWluZ1xcbnZtXFx2OC40LjBcXG5vZGVfbW9kdWxlc1xcZ2VuZXJhdG9yLXNwZWVkc2VlZFxcbm9kZV9tb2R1bGVzXFxtZW0tZnMtZWRpdG9yXFxsaWJcXGFjdGlvbnNcXGNvcHktdHBsLmpzIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGlmZWR1XFxBcHBEYXRhXFxSb2FtaW5nXFxudm1cXHY4LjQuMFxcbm9kZV9tb2R1bGVzXFxnZW5lcmF0b3Itc3BlZWRzZWVkXFxub2RlX21vZHVsZXNcXG1lbS1mcy1lZGl0b3JcXGxpYlxcYWN0aW9uc1xcY29weS10cGwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBRWIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzNCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUNwQyxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFekIsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLElBQUksRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxPQUFPO0lBQ2hFLE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDO0lBRXhCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsT0FBTyxJQUFJLEVBQUUsRUFBRTtRQUN4QyxPQUFPLEVBQUUsVUFBVSxRQUFRLEVBQUUsUUFBUTtZQUNuQyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FDZixRQUFRLENBQUMsUUFBUSxFQUFFLEVBQ25CLE9BQU87WUFDUCx3REFBd0Q7WUFDeEQsTUFBTSxDQUFDLEVBQUMsUUFBUSxFQUFFLFFBQVEsRUFBQyxFQUFFLFdBQVcsSUFBSSxFQUFFLENBQUMsQ0FDaEQsQ0FBQztRQUNKLENBQUM7S0FDRixDQUFDLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgZXh0ZW5kID0gcmVxdWlyZSgnZGVlcC1leHRlbmQnKTtcbnZhciBlanMgPSByZXF1aXJlKCdlanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZnJvbSwgdG8sIGNvbnRleHQsIHRwbFNldHRpbmdzLCBvcHRpb25zKSB7XG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IHt9O1xuXG4gIHRoaXMuY29weShmcm9tLCB0bywgZXh0ZW5kKG9wdGlvbnMgfHwge30sIHtcbiAgICBwcm9jZXNzOiBmdW5jdGlvbiAoY29udGVudHMsIGZpbGVuYW1lKSB7XG4gICAgICByZXR1cm4gZWpzLnJlbmRlcihcbiAgICAgICAgY29udGVudHMudG9TdHJpbmcoKSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgLy8gU2V0dGluZyBmaWxlbmFtZSBieSBkZWZhdWx0IGFsbG93IGluY2x1ZGluZyBwYXJ0aWFscy5cbiAgICAgICAgZXh0ZW5kKHtmaWxlbmFtZTogZmlsZW5hbWV9LCB0cGxTZXR0aW5ncyB8fCB7fSlcbiAgICAgICk7XG4gICAgfVxuICB9KSk7XG59O1xuIl19