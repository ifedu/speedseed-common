'use strict';
var ESC = '\u001b[';
var x = module.exports;
x.cursorTo = function (x, y) {
    if (arguments.length === 0) {
        return ESC + 'H';
    }
    if (arguments.length === 1) {
        return ESC + (x + 1) + 'G';
    }
    return ESC + (y + 1) + ';' + (x + 1) + 'H';
};
x.cursorMove = function (x, y) {
    var ret = '';
    if (x < 0) {
        ret += ESC + (-x) + 'D';
    }
    else if (x > 0) {
        ret += ESC + x + 'C';
    }
    if (y < 0) {
        ret += ESC + (-y) + 'A';
    }
    else if (y > 0) {
        ret += ESC + y + 'B';
    }
    return ret;
};
x.cursorUp = function (count) {
    return ESC + (typeof count === 'number' ? count : 1) + 'A';
};
x.cursorDown = function (count) {
    return ESC + (typeof count === 'number' ? count : 1) + 'B';
};
x.cursorForward = function (count) {
    return ESC + (typeof count === 'number' ? count : 1) + 'C';
};
x.cursorBackward = function (count) {
    return ESC + (typeof count === 'number' ? count : 1) + 'D';
};
x.cursorLeft = ESC + '1000D';
x.cursorSavePosition = ESC + 's';
x.cursorRestorePosition = ESC + 'u';
x.cursorGetPosition = ESC + '6n';
x.cursorNextLine = ESC + 'E';
x.cursorPrevLine = ESC + 'F';
x.cursorHide = ESC + '?25l';
x.cursorShow = ESC + '?25h';
x.eraseLines = function (count) {
    var clear = '';
    for (var i = 0; i < count; i++) {
        clear += x.cursorLeft + x.eraseEndLine + (i < count - 1 ? x.cursorUp() : '');
    }
    return clear;
};
x.eraseEndLine = ESC + 'K';
x.eraseStartLine = ESC + '1K';
x.eraseLine = ESC + '2K';
x.eraseDown = ESC + 'J';
x.eraseUp = ESC + '1J';
x.eraseScreen = ESC + '2J';
x.scrollUp = ESC + 'S';
x.scrollDown = ESC + 'T';
x.clearScreen = '\u001bc';
x.beep = '\u0007';
x.image = function (buf, opts) {
    opts = opts || {};
    var ret = '\u001b]1337;File=inline=1';
    if (opts.width) {
        ret += ';width=' + opts.width;
    }
    if (opts.height) {
        ret += ';height=' + opts.height;
    }
    if (opts.preserveAspectRatio === false) {
        ret += ';preserveAspectRatio=0';
    }
    return ret + ':' + buf.toString('base64') + '\u0007';
};
x.iTerm = {};
x.iTerm.setCwd = function (cwd) {
    return '\u001b]50;CurrentDir=' + (cwd || process.cwd()) + '\u0007';
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxpZmVkdVxcQXBwRGF0YVxcUm9hbWluZ1xcbnZtXFx2OC40LjBcXG5vZGVfbW9kdWxlc1xcZ2VuZXJhdG9yLXNwZWVkc2VlZFxcbm9kZV9tb2R1bGVzXFxhbnNpLWVzY2FwZXNcXGluZGV4LmpzIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGlmZWR1XFxBcHBEYXRhXFxSb2FtaW5nXFxudm1cXHY4LjQuMFxcbm9kZV9tb2R1bGVzXFxnZW5lcmF0b3Itc3BlZWRzZWVkXFxub2RlX21vZHVsZXNcXGFuc2ktZXNjYXBlc1xcaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBQ2IsSUFBSSxHQUFHLEdBQUcsU0FBUyxDQUFDO0FBQ3BCLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFFdkIsQ0FBQyxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUMsRUFBRSxDQUFDO0lBQzFCLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixNQUFNLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztJQUNsQixDQUFDO0lBRUQsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQzVCLENBQUM7SUFFRCxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDNUMsQ0FBQyxDQUFDO0FBRUYsQ0FBQyxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUMsRUFBRSxDQUFDO0lBQzVCLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUViLEVBQUUsQ0FBQyxDQUFDLENBQUMs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LEdBQUcsUUFBUSxDQUFDO0FBQ3RELENBQUMsQ0FBQztBQUVGLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0FBRWIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsVUFBVSxHQUFHO0lBQzdCLE1BQU0sQ0FBQyx1QkFBdUIsR0FBRyxDQUFDLEdBQUcsSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUM7QUFDcEUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIEVTQyA9ICdcXHUwMDFiWyc7XG52YXIgeCA9IG1vZHVsZS5leHBvcnRzO1xuXG54LmN1cnNvclRvID0gZnVuY3Rpb24gKHgsIHkpIHtcblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gRVNDICsgJ0gnO1xuXHR9XG5cblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gRVNDICsgKHggKyAxKSArICdHJztcblx0fVxuXG5cdHJldHVybiBFU0MgKyAoeSArIDEpICsgJzsnICsgKHggKyAxKSArICdIJztcbn07XG5cbnguY3Vyc29yTW92ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cdHZhciByZXQgPSAnJztcblxuXHRpZiAoeCA8IDApIHtcblx0XHRyZXQgKz0gRVNDICsgKC14KSArICdEJztcblx0fSBlbHNlIGlmICh4ID4gMCkge1xuXHRcdHJldCArPSBFU0MgKyB4ICsgJ0MnO1xuXHR9XG5cblx0aWYgKHkgPCAwKSB7XG5cdFx0cmV0ICs9IEVTQyArICgteSkgKyAnQSc7XG5cdH0gZWxzZSBpZiAoeSA+IDApIHtcblx0XHRyZXQgKz0gRVNDICsgeSArICdCJztcblx0fVxuXG5cdHJldHVybiByZXQ7XG59O1xuXG54LmN1cnNvclVwID0gZnVuY3Rpb24gKGNvdW50KSB7XG5cdHJldHVybiBFU0MgKyAodHlwZW9mIGNvdW50ID09PSAnbnVtYmVyJyA/IGNvdW50IDogMSkgKyAnQSc7XG59O1xuXG54LmN1cnNvckRvd24gPSBmdW5jdGlvbiAoY291bnQpIHtcblx0cmV0dXJuIEVTQyArICh0eXBlb2YgY291bnQgPT09ICdudW1iZXInID8gY291bnQgOiAxKSArICdCJztcbn07XG5cbnguY3Vyc29yRm9yd2FyZCA9IGZ1bmN0aW9uIChjb3VudCkge1xuXHRyZXR1cm4gRVNDICsgKHR5cGVvZiBjb3VudCA9PT0gJ251bWJlcicgPyBjb3VudCA6IDEpICsgJ0MnO1xufTtcblxueC5jdXJzb3JCYWNrd2FyZCA9IGZ1bmN0aW9uIChjb3VudCkge1xuXHRyZXR1cm4gRVNDICsgKHR5cGVvZiBjb3VudCA9PT0gJ251bWJlcicgPyBjb3VudCA6IDEpICsgJ0QnO1xufTtcblxueC5jdXJzb3JMZWZ0ID0gRVNDICsgJzEwMDBEJztcbnguY3Vyc29yU2F2ZVBvc2l0aW9uID0gRVNDICsgJ3MnO1xueC5jdXJzb3JSZXN0b3JlUG9zaXRpb24gPSBFU0MgKyAndSc7XG54LmN1cnNvckdldFBvc2l0aW9uID0gRVNDICsgJzZuJztcbnguY3Vyc29yTmV4dExpbmUgPSBFU0MgKyAnRSc7XG54LmN1cnNvclByZXZMaW5lID0gRVNDICsgJ0YnO1xueC5jdXJzb3JIaWRlID0gRVNDICsgJz8yNWwnO1xueC5jdXJzb3JTaG93ID0gRVNDICsgJz8yNWgnO1xuXG54LmVyYXNlTGluZXMgPSBmdW5jdGlvbiAoY291bnQpIHtcblx0dmFyIGNsZWFyID0gJyc7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG5cdFx0Y2xlYXIgKz0geC5jdXJzb3JMZWZ0ICsgeC5lcmFzZUVuZExpbmUgKyAoaSA8IGNvdW50IC0gMSA/IHguY3Vyc29yVXAoKSA6ICcnKTtcblx0fVxuXG5cdHJldHVybiBjbGVhcjtcbn07XG5cbnguZXJhc2VFbmRMaW5lID0gRVNDICsgJ0snO1xueC5lcmFzZVN0YXJ0TGluZSA9IEVTQyArICcxSyc7XG54LmVyYXNlTGluZSA9IEVTQyArICcySyc7XG54LmVyYXNlRG93biA9IEVTQyArICdKJztcbnguZXJhc2VVcCA9IEVTQyArICcxSic7XG54LmVyYXNlU2NyZWVuID0gRVNDICsgJzJKJztcbnguc2Nyb2xsVXAgPSBFU0MgKyAnUyc7XG54LnNjcm9sbERvd24gPSBFU0MgKyAnVCc7XG5cbnguY2xlYXJTY3JlZW4gPSAnXFx1MDAxYmMnO1xueC5iZWVwID0gJ1xcdTAwMDcnO1xuXG54LmltYWdlID0gZnVuY3Rpb24gKGJ1Ziwgb3B0cykge1xuXHRvcHRzID0gb3B0cyB8fCB7fTtcblxuXHR2YXIgcmV0ID0gJ1xcdTAwMWJdMTMzNztGaWxlPWlubGluZT0xJztcblxuXHRpZiAob3B0cy53aWR0aCkge1xuXHRcdHJldCArPSAnO3dpZHRoPScgKyBvcHRzLndpZHRoO1xuXHR9XG5cblx0aWYgKG9wdHMuaGVpZ2h0KSB7XG5cdFx0cmV0ICs9ICc7aGVpZ2h0PScgKyBvcHRzLmhlaWdodDtcblx0fVxuXG5cdGlmIChvcHRzLnByZXNlcnZlQXNwZWN0UmF0aW8gPT09IGZhbHNlKSB7XG5cdFx0cmV0ICs9ICc7cHJlc2VydmVBc3BlY3RSYXRpbz0wJztcblx0fVxuXG5cdHJldHVybiByZXQgKyAnOicgKyBidWYudG9TdHJpbmcoJ2Jhc2U2NCcpICsgJ1xcdTAwMDcnO1xufTtcblxueC5pVGVybSA9IHt9O1xuXG54LmlUZXJtLnNldEN3ZCA9IGZ1bmN0aW9uIChjd2QpIHtcblx0cmV0dXJuICdcXHUwMDFiXTUwO0N1cnJlbnREaXI9JyArIChjd2QgfHwgcHJvY2Vzcy5jd2QoKSkgKyAnXFx1MDAwNyc7XG59O1xuIl19