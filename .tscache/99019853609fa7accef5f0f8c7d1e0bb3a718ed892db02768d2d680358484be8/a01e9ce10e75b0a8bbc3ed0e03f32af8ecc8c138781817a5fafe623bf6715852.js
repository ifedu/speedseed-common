/*istanbul ignore start*/ 'use strict';
exports.__esModule = true;
exports.lineDiff = undefined;
exports.diffLines = diffLines;
/*istanbul ignore start*/ exports.diffTrimmedLines = diffTrimmedLines;
var /*istanbul ignore start*/ _base = require('./base') /*istanbul ignore end*/;
/*istanbul ignore start*/
var _base2 = _interopRequireDefault(_base);
/*istanbul ignore end*/
var /*istanbul ignore start*/ _params = require('../util/params') /*istanbul ignore end*/;
/*istanbul ignore start*/
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
/*istanbul ignore end*/ var lineDiff = exports.lineDiff = new _base2.default() /*istanbul ignore end*/;
lineDiff.tokenize = function (value) {
    var retLines = [], linesAndNewlines = value.split(/(\n|\r\n)/);
    // Ignore the final empty token that occurs if the string ends with a new line
    if (!linesAndNewlines[linesAndNewlines.length - 1]) {
        linesAndNewlines.pop();
    }
    // Merge the content and line separators into single tokens
    for (var i = 0; i < linesAndNewlines.length; i++) {
        var line = linesAndNewlines[i];
        if (i % 2 && !this.options.newlineIsToken) {
            retLines[retLines.length - 1] += line;
        }
        else {
            if (this.options.ignoreWhitespace) {
                line = line.trim();
            }
            retLines.push(line);
        }
    }
    return retLines;
};
function diffLines(oldStr, newStr, callback) {
    return lineDiff.diff(oldStr, newStr, callback);
}
function diffTrimmedLines(oldStr, newStr, callback) {
    var options = (0, _params.generateOptions) /*istanbul ignore end*/(callback, { ignoreWhitespace: true });
    return lineDiff.diff(oldStr, newStr, options);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxpZmVkdVxcQXBwRGF0YVxcUm9hbWluZ1xcbnZtXFx2OC40LjBcXG5vZGVfbW9kdWxlc1xcZ2VuZXJhdG9yLXNwZWVkc2VlZFxcbm9kZV9tb2R1bGVzXFx5ZW9tYW4tZW52aXJvbm1lbnRcXG5vZGVfbW9kdWxlc1xcZGlmZlxcbGliXFxkaWZmXFxsaW5lLmpzIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGlmZWR1XFxBcHBEYXRhXFxSb2FtaW5nXFxudm1cXHY4LjQuMFxcbm9kZV9tb2R1bGVzXFxnZW5lcmF0b3Itc3BlZWRzZWVkXFxub2RlX21vZHVsZXNcXHllb21hbi1lbnZpcm9ubWVudFxcbm9kZV9tb2R1bGVzXFxkaWZmXFxsaWJcXGRpZmZcXGxpbmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEseUJBQXlCLENBQUEsWUFBWSxDQUFDO0FBRXRDLE9BQU8sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQzFCLE9BQU8sQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDO0FBQzdCLE9BQU8sQ0FBeUIsU0FBUyxHQUFHLFNBQVMsQ0FBQztBQUN0RCx5QkFBeUIsQ0FBQSxPQUFPLENBQXlCLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDO0FBRTdGLElBQUkseUJBQXlCLENBQUEsS0FBSyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQztBQUUvRSx5QkFBeUI7QUFDekIsSUFBSSxNQUFNLEdBQUcsc0JBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFM0MsdUJBQXVCO0FBQ3ZCLElBQUkseUJBQXlCLENBQUEsT0FBTyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLHVCQUF1QixDQUFDO0FBRXpGLHlCQUF5QjtBQUN6QixnQ0FBZ0MsR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLFVBQVUsR0FBRyxHQUFHLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBRS9GLHVCQUF1QixDQUFBLElBQUksUUFBUSxHQUE0QixPQUFPLENBQXlCLFFBQVEsR0FBRyxJQUE2QixNQUFNLENBQUMsT0FBTyxFQUFFLENBQUMsdUJBQXVCLENBQUM7QUFDaEwsUUFBUSxDQUFDLFFBQVEsR0FBRyxVQUFVLEtBQUs7SUFDakMsSUFBSSxRQUFRLEdBQUcsRUFBRSxFQUNiLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7SUFFaEQsOEVBQThFO0lBQzlFLEVBQUUsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuRCxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsMkRBQTJEO0lBQzNELEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDakQsSUFBSSxJQUFJLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFL0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztZQUMxQyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM7UUFDeEMsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ04sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDckIsQ0FBQztZQUNELFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEIsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsUUFBUSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUVGLG1CQUFtQixNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVE7SUFDekMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNqRCxDQUFDO0FBQ0QsMEJBQTBCLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUTtJQUNoRCxJQUFJLE9BQU8sR0FBNEIsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLFFBQVEsRUFBRSxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDbEksTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNoRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyppc3RhbmJ1bCBpZ25vcmUgc3RhcnQqLyd1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubGluZURpZmYgPSB1bmRlZmluZWQ7XG5leHBvcnRzLiAvKmlzdGFuYnVsIGlnbm9yZSBlbmQqL2RpZmZMaW5lcyA9IGRpZmZMaW5lcztcbi8qaXN0YW5idWwgaWdub3JlIHN0YXJ0Ki9leHBvcnRzLiAvKmlzdGFuYnVsIGlnbm9yZSBlbmQqL2RpZmZUcmltbWVkTGluZXMgPSBkaWZmVHJpbW1lZExpbmVzO1xuXG52YXIgLyppc3RhbmJ1bCBpZ25vcmUgc3RhcnQqL19iYXNlID0gcmVxdWlyZSgnLi9iYXNlJykgLyppc3RhbmJ1bCBpZ25vcmUgZW5kKi87XG5cbi8qaXN0YW5idWwgaWdub3JlIHN0YXJ0Ki9cbnZhciBfYmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlKTtcblxuLyppc3RhbmJ1bCBpZ25vcmUgZW5kKi9cbnZhciAvKmlzdGFuYnVsIGlnbm9yZSBzdGFydCovX3BhcmFtcyA9IHJlcXVpcmUoJy4uL3V0aWwvcGFyYW1zJykgLyppc3RhbmJ1bCBpZ25vcmUgZW5kKi87XG5cbi8qaXN0YW5idWwgaWdub3JlIHN0YXJ0Ki9cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qaXN0YW5idWwgaWdub3JlIGVuZCovdmFyIGxpbmVEaWZmID0gLyppc3RhbmJ1bCBpZ25vcmUgc3RhcnQqL2V4cG9ydHMuIC8qaXN0YW5idWwgaWdub3JlIGVuZCovbGluZURpZmYgPSBuZXcgLyppc3RhbmJ1bCBpZ25vcmUgc3RhcnQqL19iYXNlMi5kZWZhdWx0KCkgLyppc3RhbmJ1bCBpZ25vcmUgZW5kKi87XG5saW5lRGlmZi50b2tlbml6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcmV0TGluZXMgPSBbXSxcbiAgICAgIGxpbmVzQW5kTmV3bGluZXMgPSB2YWx1ZS5zcGxpdCgvKFxcbnxcXHJcXG4pLyk7XG5cbiAgLy8gSWdub3JlIHRoZSBmaW5hbCBlbXB0eSB0b2tlbiB0aGF0IG9jY3VycyBpZiB0aGUgc3RyaW5nIGVuZHMgd2l0aCBhIG5ldyBsaW5lXG4gIGlmICghbGluZXNBbmROZXdsaW5lc1tsaW5lc0FuZE5ld2xpbmVzLmxlbmd0aCAtIDFdKSB7XG4gICAgbGluZXNBbmROZXdsaW5lcy5wb3AoKTtcbiAgfVxuXG4gIC8vIE1lcmdlIHRoZSBjb250ZW50IGFuZCBsaW5lIHNlcGFyYXRvcnMgaW50byBzaW5nbGUgdG9rZW5zXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXNBbmROZXdsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBsaW5lID0gbGluZXNBbmROZXdsaW5lc1tpXTtcblxuICAgIGlmIChpICUgMiAmJiAhdGhpcy5vcHRpb25zLm5ld2xpbmVJc1Rva2VuKSB7XG4gICAgICByZXRMaW5lc1tyZXRMaW5lcy5sZW5ndGggLSAxXSArPSBsaW5lO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmlnbm9yZVdoaXRlc3BhY2UpIHtcbiAgICAgICAgbGluZSA9IGxpbmUudHJpbSgpO1xuICAgICAgfVxuICAgICAgcmV0TGluZXMucHVzaChsaW5lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmV0TGluZXM7XG59O1xuXG5mdW5jdGlvbiBkaWZmTGluZXMob2xkU3RyLCBuZXdTdHIsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBsaW5lRGlmZi5kaWZmKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjayk7XG59XG5mdW5jdGlvbiBkaWZmVHJpbW1lZExpbmVzKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjaykge1xuICB2YXIgb3B0aW9ucyA9IC8qaXN0YW5idWwgaWdub3JlIHN0YXJ0Ki8oMCwgX3BhcmFtcy5nZW5lcmF0ZU9wdGlvbnMpIC8qaXN0YW5idWwgaWdub3JlIGVuZCovKGNhbGxiYWNrLCB7IGlnbm9yZVdoaXRlc3BhY2U6IHRydWUgfSk7XG4gIHJldHVybiBsaW5lRGlmZi5kaWZmKG9sZFN0ciwgbmV3U3RyLCBvcHRpb25zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUwzTnlZeTlrYVdabUwyeHBibVV1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096dG5RMEU0UW1kQ08zbEVRVU5CT3p0QlFTOUNhRUk3T3pzN096dEJRVU5CT3pzN096dDFRa0ZGVHl4SlFVRk5MQ3RGUVVGWExIRkZRVUZZTzBGQlEySXNVMEZCVXl4UlFVRlVMRWRCUVc5Q0xGVkJRVk1zUzBGQlZDeEZRVUZuUWp0QlFVTnNReXhOUVVGSkxGZEJRVmNzUlVGQldEdE5RVU5CTEcxQ1FVRnRRaXhOUVVGTkxFdEJRVTRzUTBGQldTeFhRVUZhTEVOQlFXNUNPenM3UVVGR09FSXNUVUZMT1VJc1EwRkJReXhwUWtGQmFVSXNhVUpCUVdsQ0xFMUJRV3BDTEVkQlFUQkNMRU5CUVRGQ0xFTkJRV3hDTEVWQlFXZEVPMEZCUTJ4RUxIRkNRVUZwUWl4SFFVRnFRaXhIUVVSclJEdEhRVUZ3UkRzN08wRkJUR3RETEU5QlZUZENMRWxCUVVrc1NVRkJTU3hEUVVGS0xFVkJRVThzU1VGQlNTeHBRa0ZCYVVJc1RVRkJha0lzUlVGQmVVSXNSMEZCTjBNc1JVRkJhMFE3UVVGRGFFUXNVVUZCU1N4UFFVRlBMR2xDUVVGcFFpeERRVUZxUWl4RFFVRlFMRU5CUkRSRE96dEJRVWRvUkN4UlFVRkpMRWxCUVVrc1EwRkJTaXhKUVVGVExFTkJRVU1zUzBGQlN5eFBRVUZNTEVOQlFXRXNZMEZCWWl4RlFVRTJRanRCUVVONlF5eGxRVUZUTEZOQlFWTXNUVUZCVkN4SFFVRnJRaXhEUVVGc1FpeERRVUZVTEVsQlFXbERMRWxCUVdwRExFTkJSSGxETzB0QlFUTkRMRTFCUlU4N1FVRkRUQ3hWUVVGSkxFdEJRVXNzVDBGQlRDeERRVUZoTEdkQ1FVRmlMRVZCUVN0Q08wRkJRMnBETEdWQlFVOHNTMEZCU3l4SlFVRk1MRVZCUVZBc1EwRkVhVU03VDBGQmJrTTdRVUZIUVN4bFFVRlRMRWxCUVZRc1EwRkJZeXhKUVVGa0xFVkJTa3M3UzBGR1VEdEhRVWhHT3p0QlFXRkJMRk5CUVU4c1VVRkJVQ3hEUVhaQ2EwTTdRMEZCYUVJN08wRkJNRUppTEZOQlFWTXNVMEZCVkN4RFFVRnRRaXhOUVVGdVFpeEZRVUV5UWl4TlFVRXpRaXhGUVVGdFF5eFJRVUZ1UXl4RlFVRTJRenRCUVVGRkxGTkJRVThzVTBGQlV5eEpRVUZVTEVOQlFXTXNUVUZCWkN4RlFVRnpRaXhOUVVGMFFpeEZRVUU0UWl4UlFVRTVRaXhEUVVGUUxFTkJRVVk3UTBGQk4wTTdRVUZEUVN4VFFVRlRMR2RDUVVGVUxFTkJRVEJDTEUxQlFURkNMRVZCUVd0RExFMUJRV3hETEVWQlFUQkRMRkZCUVRGRExFVkJRVzlFTzBGQlEzcEVMRTFCUVVrc1ZVRkJWU3c0UlVGQlowSXNVVUZCYUVJc1JVRkJNRUlzUlVGQlF5eHJRa0ZCYTBJc1NVRkJiRUlzUlVGQk0wSXNRMEZCVml4RFFVUnhSRHRCUVVWNlJDeFRRVUZQTEZOQlFWTXNTVUZCVkN4RFFVRmpMRTFCUVdRc1JVRkJjMElzVFVGQmRFSXNSVUZCT0VJc1QwRkJPVUlzUTBGQlVDeERRVVo1UkR0RFFVRndSQ0lzSW1acGJHVWlPaUpzYVc1bExtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpYVcxd2IzSjBJRVJwWm1ZZ1puSnZiU0FuTGk5aVlYTmxKenRjYm1sdGNHOXlkQ0I3WjJWdVpYSmhkR1ZQY0hScGIyNXpmU0JtY205dElDY3VMaTkxZEdsc0wzQmhjbUZ0Y3ljN1hHNWNibVY0Y0c5eWRDQmpiMjV6ZENCc2FXNWxSR2xtWmlBOUlHNWxkeUJFYVdabUtDazdYRzVzYVc1bFJHbG1aaTUwYjJ0bGJtbDZaU0E5SUdaMWJtTjBhVzl1S0haaGJIVmxLU0I3WEc0Z0lHeGxkQ0J5WlhSTWFXNWxjeUE5SUZ0ZExGeHVJQ0FnSUNBZ2JHbHVaWE5CYm1ST1pYZHNhVzVsY3lBOUlIWmhiSFZsTG5Od2JHbDBLQzhvWEZ4dWZGeGNjbHhjYmlrdktUdGNibHh1SUNBdkx5QkpaMjV2Y21VZ2RHaGxJR1pwYm1Gc0lHVnRjSFI1SUhSdmEyVnVJSFJvWVhRZ2IyTmpkWEp6SUdsbUlIUm9aU0J6ZEhKcGJtY2daVzVrY3lCM2FYUm9JR0VnYm1WM0lHeHBibVZjYmlBZ2FXWWdLQ0ZzYVc1bGMwRnVaRTVsZDJ4cGJtVnpXMnhwYm1WelFXNWtUbVYzYkdsdVpYTXViR1Z1WjNSb0lDMGdNVjBwSUh0Y2JpQWdJQ0JzYVc1bGMwRnVaRTVsZDJ4cGJtVnpMbkJ2Y0NncE8xeHVJQ0I5WEc1Y2JpQWdMeThnVFdWeVoyVWdkR2hsSUdOdmJuUmxiblFnWVc1a0lHeHBibVVnYzJWd1lYSmhkRzl5Y3lCcGJuUnZJSE5wYm1kc1pTQjBiMnRsYm5OY2JpQWdabTl5SUNoc1pYUWdhU0E5SURBN0lHa2dQQ0JzYVc1bGMwRnVaRTVsZDJ4cGJtVnpMbXhsYm1kMGFEc2dhU3NyS1NCN1hHNGdJQ0FnYkdWMElHeHBibVVnUFNCc2FXNWxjMEZ1WkU1bGQyeHBibVZ6VzJsZE8xeHVYRzRnSUNBZ2FXWWdLR2tnSlNBeUlDWW1JQ0YwYUdsekxtOXdkR2x2Ym5NdWJtVjNiR2x1WlVselZHOXJaVzRwSUh0Y2JpQWdJQ0FnSUhKbGRFeHBibVZ6VzNKbGRFeHBibVZ6TG14bGJtZDBhQ0F0SURGZElDczlJR3hwYm1VN1hHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJR2xtSUNoMGFHbHpMbTl3ZEdsdmJuTXVhV2R1YjNKbFYyaHBkR1Z6Y0dGalpTa2dlMXh1SUNBZ0lDQWdJQ0JzYVc1bElEMGdiR2x1WlM1MGNtbHRLQ2s3WEc0Z0lDQWdJQ0I5WEc0Z0lDQWdJQ0J5WlhSTWFXNWxjeTV3ZFhOb0tHeHBibVVwTzF4dUlDQWdJSDFjYmlBZ2ZWeHVYRzRnSUhKbGRIVnliaUJ5WlhSTWFXNWxjenRjYm4wN1hHNWNibVY0Y0c5eWRDQm1kVzVqZEdsdmJpQmthV1ptVEdsdVpYTW9iMnhrVTNSeUxDQnVaWGRUZEhJc0lHTmhiR3hpWVdOcktTQjdJSEpsZEhWeWJpQnNhVzVsUkdsbVppNWthV1ptS0c5c1pGTjBjaXdnYm1WM1UzUnlMQ0JqWVd4c1ltRmpheWs3SUgxY2JtVjRjRzl5ZENCbWRXNWpkR2x2YmlCa2FXWm1WSEpwYlcxbFpFeHBibVZ6S0c5c1pGTjBjaXdnYm1WM1UzUnlMQ0JqWVd4c1ltRmpheWtnZTF4dUlDQnNaWFFnYjNCMGFXOXVjeUE5SUdkbGJtVnlZWFJsVDNCMGFXOXVjeWhqWVd4c1ltRmpheXdnZTJsbmJtOXlaVmRvYVhSbGMzQmhZMlU2SUhSeWRXVjlLVHRjYmlBZ2NtVjBkWEp1SUd4cGJtVkVhV1ptTG1ScFptWW9iMnhrVTNSeUxDQnVaWGRUZEhJc0lHOXdkR2x2Ym5NcE8xeHVmVnh1SWwxOVxuIl19