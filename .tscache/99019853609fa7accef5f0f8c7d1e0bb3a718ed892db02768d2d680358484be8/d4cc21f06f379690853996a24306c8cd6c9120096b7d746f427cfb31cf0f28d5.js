'use strict';
var findUp = require('find-up');
var readPkg = require('read-pkg');
module.exports = function (opts) {
    return findUp('package.json', opts).then(function (fp) {
        if (!fp) {
            return {};
        }
        return readPkg(fp, opts).then(function (pkg) { return ({ pkg: pkg, path: fp }); });
    });
};
module.exports.sync = function (opts) {
    var fp = findUp.sync('package.json', opts);
    if (!fp) {
        return {};
    }
    return {
        pkg: readPkg.sync(fp, opts),
        path: fp
    };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxpZmVkdVxcQXBwRGF0YVxcUm9hbWluZ1xcbnZtXFx2OC40LjBcXG5vZGVfbW9kdWxlc1xcZ2VuZXJhdG9yLXNwZWVkc2VlZFxcbm9kZV9tb2R1bGVzXFxyZWFkLXBrZy11cFxcaW5kZXguanMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcaWZlZHVcXEFwcERhdGFcXFJvYW1pbmdcXG52bVxcdjguNC4wXFxub2RlX21vZHVsZXNcXGdlbmVyYXRvci1zcGVlZHNlZWRcXG5vZGVfbW9kdWxlc1xccmVhZC1wa2ctdXBcXGluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQztBQUNiLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNsQyxJQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7QUFFcEMsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFBLElBQUk7SUFDcEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsRUFBRTtRQUMxQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDVCxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ1gsQ0FBQztRQUVELE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLEdBQUcsSUFBSSxPQUFBLENBQUMsRUFBQyxHQUFHLEtBQUEsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFDLENBQUMsRUFBakIsQ0FBaUIsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsVUFBQSxJQUFJO0lBQ3pCLElBQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBRTdDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNULE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDWCxDQUFDO0lBRUQsTUFBTSxDQUFDO1FBQ04sR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQztRQUMzQixJQUFJLEVBQUUsRUFBRTtLQUNSLENBQUM7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5jb25zdCBmaW5kVXAgPSByZXF1aXJlKCdmaW5kLXVwJyk7XG5jb25zdCByZWFkUGtnID0gcmVxdWlyZSgncmVhZC1wa2cnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBvcHRzID0+IHtcblx0cmV0dXJuIGZpbmRVcCgncGFja2FnZS5qc29uJywgb3B0cykudGhlbihmcCA9PiB7XG5cdFx0aWYgKCFmcCkge1xuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblxuXHRcdHJldHVybiByZWFkUGtnKGZwLCBvcHRzKS50aGVuKHBrZyA9PiAoe3BrZywgcGF0aDogZnB9KSk7XG5cdH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuc3luYyA9IG9wdHMgPT4ge1xuXHRjb25zdCBmcCA9IGZpbmRVcC5zeW5jKCdwYWNrYWdlLmpzb24nLCBvcHRzKTtcblxuXHRpZiAoIWZwKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRwa2c6IHJlYWRQa2cuc3luYyhmcCwgb3B0cyksXG5cdFx0cGF0aDogZnBcblx0fTtcbn07XG4iXX0=