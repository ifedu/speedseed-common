'use strict';
var assert = require('assert');
module.exports = function (filepath, contents, stat) {
    assert(typeof contents === 'string' || contents instanceof Buffer, 'Expected `contents` to be a String or a Buffer');
    var file = this.store.get(filepath);
    file.isNew = file.contents === null;
    file.state = 'modified';
    file.contents = typeof contents === 'string' ? new Buffer(contents) : contents;
    file.stat = stat;
    this.store.add(file);
    return file.contents.toString();
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxpZmVkdVxcQXBwRGF0YVxcUm9hbWluZ1xcbnZtXFx2OC40LjBcXG5vZGVfbW9kdWxlc1xcZ2VuZXJhdG9yLXNwZWVkc2VlZFxcbm9kZV9tb2R1bGVzXFxtZW0tZnMtZWRpdG9yXFxsaWJcXGFjdGlvbnNcXHdyaXRlLmpzIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGlmZWR1XFxBcHBEYXRhXFxSb2FtaW5nXFxudm1cXHY4LjQuMFxcbm9kZV9tb2R1bGVzXFxnZW5lcmF0b3Itc3BlZWRzZWVkXFxub2RlX21vZHVsZXNcXG1lbS1mcy1lZGl0b3JcXGxpYlxcYWN0aW9uc1xcd3JpdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBRWIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBRS9CLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxRQUFRLEVBQUUsUUFBUSxFQUFFLElBQUk7SUFDakQsTUFBTSxDQUNKLE9BQU8sUUFBUSxLQUFLLFFBQVEsSUFBSSxRQUFRLFlBQVksTUFBTSxFQUMxRCxnREFBZ0QsQ0FDakQsQ0FBQztJQUVGLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUM7SUFDcEMsSUFBSSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUM7SUFDeEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLFFBQVEsS0FBSyxRQUFRLEdBQUcsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFDO0lBQy9FLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRXJCLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQ2xDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmaWxlcGF0aCwgY29udGVudHMsIHN0YXQpIHtcbiAgYXNzZXJ0KFxuICAgIHR5cGVvZiBjb250ZW50cyA9PT0gJ3N0cmluZycgfHwgY29udGVudHMgaW5zdGFuY2VvZiBCdWZmZXIsXG4gICAgJ0V4cGVjdGVkIGBjb250ZW50c2AgdG8gYmUgYSBTdHJpbmcgb3IgYSBCdWZmZXInXG4gICk7XG5cbiAgdmFyIGZpbGUgPSB0aGlzLnN0b3JlLmdldChmaWxlcGF0aCk7XG4gIGZpbGUuaXNOZXcgPSBmaWxlLmNvbnRlbnRzID09PSBudWxsO1xuICBmaWxlLnN0YXRlID0gJ21vZGlmaWVkJztcbiAgZmlsZS5jb250ZW50cyA9IHR5cGVvZiBjb250ZW50cyA9PT0gJ3N0cmluZycgPyBuZXcgQnVmZmVyKGNvbnRlbnRzKSA6IGNvbnRlbnRzO1xuICBmaWxlLnN0YXQgPSBzdGF0O1xuICB0aGlzLnN0b3JlLmFkZChmaWxlKTtcblxuICByZXR1cm4gZmlsZS5jb250ZW50cy50b1N0cmluZygpO1xufTtcbiJdfQ==